language: php


  
env:
  - Matrix: m1
  - Matrix: m2
  
build:
 # pre_ci:
  #  - docker build -t=shippabledocker/sample_node:jun217 .

 # pre_ci_boot:
  #  image_name: drydock/u16phpall
  #  image_tag: master
  #  pull: true
   # options: '--privileged=true --net=bridge -e FOO=true -e BOO=false' 

  ci:
    - mkdir -p shippable/codecoverage
    - mkdir -p shippable/testresults   
    - phpunit  --log-junit shippable/testresults/junit.xml --coverage-xml shippable/codecoverage tests/calculator_test.php
    - lsb_release -a
    - docker --version
    - docker info
    - docker ps
    
#  post_ci:
  #  - docker push shippabledocker/sample_node:jun217
    
 # cache: true
